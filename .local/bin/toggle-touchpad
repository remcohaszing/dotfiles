#!/bin/bash
#
# This script toggles a touch pad using gsettings.
#
SETTING=('org.gnome.desktop.peripherals.touchpad' 'send-events')
OLD_STATE="$(gsettings get "${SETTING[@]}")"
echo "Prevous state: $OLD_STATE"


case $OLD_STATE in
  "'enabled'")
    NEW_STATE='disabled'
    ;;
  "'disabled'")
    NEW_STATE='disabled-on-external-mouse'
    ;;
  "'disabled-on-external-mouse'")
    NEW_STATE='enabled'
    ;;
  *)
    echo "Unhandled touchpad state: $OLD_STATE"
    exit 1
    ;;
esac


gsettings set "${SETTING[@]}" "$NEW_STATE"
echo "New state: $NEW_STATE"
